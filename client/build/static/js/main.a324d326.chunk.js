(this["webpackJsonphow-broke"]=this["webpackJsonphow-broke"]||[]).push([[0],{76:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(59),r=n.n(s),i=(n(76),n(8)),l=n(11),o=n(7),j=n(66),b=n(69),d=n(102),u=n(100),m=n(65),h=n(1);function O(){return Object(h.jsxs)("section",{id:"finances-input",children:[Object(h.jsx)("h3",{children:"Update Budget"}),Object(h.jsxs)("div",{className:"secondary-container",children:[Object(h.jsx)("input",{type:"text",id:"budget-amount",name:"budget-amount",placeholder:"Budget"}),Object(h.jsx)("button",{id:"budget-button",className:"button",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-currency-dollar",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"})})})]}),Object(h.jsx)("h3",{children:"Add Bill"}),Object(h.jsxs)("div",{id:"bill-container",className:"secondary-container",children:[Object(h.jsxs)("select",{name:"bills",id:"bills-input",children:[Object(h.jsx)("option",{value:"bills",children:"Bills"}),Object(h.jsx)("option",{value:"rent",children:"Rent"}),Object(h.jsx)("option",{value:"insurance",children:"Insurance"}),Object(h.jsx)("option",{value:"groceries",children:"Groceries"}),Object(h.jsx)("option",{value:"utilities",children:"Utilities"}),Object(h.jsx)("option",{value:"other",children:"Other"})]}),Object(h.jsx)("input",{type:"text",id:"bill-name",name:"bill-name",placeholder:"Bill Name"}),Object(h.jsx)("input",{type:"text",id:"bill-amount",name:"bill-amount",placeholder:"Amount"}),Object(h.jsx)("button",{id:"bill-button",className:"bill-button",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})]})]})}function x(){return Object(h.jsxs)("section",{id:"budget",children:[Object(h.jsx)("h3",{children:"Rent"}),Object(h.jsx)("h3",{children:"Insurance"}),Object(h.jsx)("h3",{children:"Groceries"}),Object(h.jsx)("h3",{children:"Utilities"}),Object(h.jsx)("h3",{children:"Other"})]})}var g=n(60),p=n(61),v=n(46),f=n.n(v),N=new(function(){function e(){Object(g.a)(this,e)}return Object(p.a)(e,[{key:"getProfile",value:function(){return f()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return f()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}());n(80);function w(){return Object(h.jsxs)("section",{id:"profile",children:[Object(h.jsxs)("h2",{id:"greeting",children:["Hello, User's     ",N.getProfile().data.username,"!"]}),Object(h.jsx)("h3",{id:"budget-display",children:"Budget"})]})}var y=n(67);n(81);function k(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.a,{now:60})})}n(57),n(82);function S(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{className:"textBar",children:"Monthly Budget"}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"textBar",children:"Rent"}),Object(h.jsx)("p",{className:"textBar",children:6666}),Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar-red"})}),Object(h.jsx)("p",{className:"textBar",children:"Progress bar color blue"}),Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar-blue"})}),Object(h.jsx)("p",{className:"textBar",children:"Progress bar color green"}),Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar-green"})}),Object(h.jsx)("p",{className:"textBar",children:"Progress bar color orange"}),Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar-orange"})})]})})}function B(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{}),Object(h.jsx)(S,{})]})}var $,I,_,C,D,M,P,U,A=function(){return N.loggedIn()?Object(h.jsxs)("main",{children:[Object(h.jsx)(w,{}),Object(h.jsx)(O,{}),Object(h.jsx)(x,{}),Object(h.jsx)(B,{})]}):Object(h.jsxs)(h.Fragment,{children:["MORE MONEY MORE PROBLEMS",Object(h.jsx)("br",{}),"Animation logo intro",Object(h.jsx)("br",{}),"Loading",Object(h.jsx)("br",{}),Object(h.jsxs)("ul",{className:"flex-row",children:[Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/signup",children:"Signup"})}),Object(h.jsx)("li",{className:"mx-1",children:Object(h.jsx)(l.b,{to:"/login",children:"Login"})})]})]})},E=n(38),L=n(20),Y=n(31),q=n(29),F=n.n(q),R=n(94),z=n(21),T=n(101),V=(Object(T.a)($||($=Object(z.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Object(T.a)(I||(I=Object(z.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"])))),H=Object(T.a)(_||(_=Object(z.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),G=(Object(T.a)(C||(C=Object(z.a)(["\n  mutation addOrder($budgets: [ID]!) {\n    addOrder(budgets: $budgets) {\n      purchaseDate\n      budgets {\n        _id\n        name\n        description\n        amountofmoney\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(Y.a)(t,2),a=n[0],s=n[1],r=Object(R.a)(H),o=Object(Y.a)(r,2),j=o[0],b=o[1],d=b.error,u=b.data,m=function(e){var t=e.target,n=t.name,c=t.value;s(Object(i.a)(Object(i.a)({},a),{},Object(L.a)({},n,c)))},O=function(){var e=Object(E.a)(F.a.mark((function e(t){var n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a),e.prev=2,e.next=5,j({variables:Object(i.a)({},a)});case 5:n=e.sent,c=n.data,N.login(c.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:s({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(h.jsx)("div",{className:"col-12 col-lg-10",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(h.jsxs)("div",{className:"card-body",children:[u?Object(h.jsxs)("p",{children:["Success! You may now head"," ",Object(h.jsx)(l.b,{to:"/",children:"back to the homepage."})]}):Object(h.jsxs)("form",{onSubmit:O,children:[Object(h.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:m}),Object(h.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:m}),Object(h.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),d&&Object(h.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})}),J=function(){var e=Object(c.useState)({username:"",email:"",password:""}),t=Object(Y.a)(e,2),n=t[0],a=t[1],s=Object(R.a)(V),r=Object(Y.a)(s,2),o=r[0],j=r[1],b=j.error,d=j.data,u=function(e){var t=e.target,c=t.name,s=t.value;a(Object(i.a)(Object(i.a)({},n),{},Object(L.a)({},c,s)))},m=function(){var e=Object(E.a)(F.a.mark((function e(t){var c,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,o({variables:Object(i.a)({},n)});case 5:c=e.sent,a=c.data,N.login(a.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(h.jsx)("div",{className:"col-12 col-lg-10",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(h.jsxs)("div",{className:"card-body",children:[d?Object(h.jsxs)("p",{children:["Success! You may now head"," ",Object(h.jsx)(l.b,{to:"/",children:"back to the homepage."})]}):Object(h.jsxs)("form",{onSubmit:m,children:[Object(h.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:n.name,onChange:u}),Object(h.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:u}),Object(h.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:u}),Object(h.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),b&&Object(h.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:b.message})]})]})})})},K=n.p+"static/media/logo.405c758a.png",Q=function(){return Object(h.jsx)("header",{className:"bg-primary text-light mb-4 py-3 flex-row align-center",children:Object(h.jsxs)("div",{className:"container flex-row justify-space-between-lg justify-center align-center",children:[Object(h.jsx)("div",{children:Object(h.jsx)(l.b,{className:"text-light",to:"/",children:Object(h.jsx)("img",{src:K,alt:"logo"})})}),Object(h.jsx)("div",{children:N.loggedIn()?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.b,{className:"btn btn-lg btn-info m-2",to:"/me",children:[N.getProfile().data.username,"'s Budget"]}),Object(h.jsx)("button",{className:"btn btn-lg btn-light m-2",onClick:function(e){e.preventDefault(),N.logout()},children:"Logout"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.b,{className:"btn btn-lg btn-info m-2",to:"/login",children:"Login"}),Object(h.jsx)(l.b,{className:"btn btn-lg btn-light m-2",to:"/signup",children:"Signup"})]})})]})})},W=n(99),X=Object(T.a)(D||(D=Object(z.a)(["\n  query me {\n    me {\n      _id\n      username\n      email\n      budgets {\n        _id\n        billName\n        billsDescription\n        createdAt\n      }\n    }\n  }\n"]))),Z=(Object(T.a)(M||(M=Object(z.a)(["\n  query getBudgets {\n    budgets {\n      _id\n      billName\n      billsDescription\n      createdAt\n    }\n  }\n"]))),Object(T.a)(P||(P=Object(z.a)(["\n  query getCheckout($budgets: [ID]!) {\n    checkout(budgets: $budgets) {\n      session\n    }\n  }\n"]))),Object(T.a)(U||(U=Object(z.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      budgets {\n        _id\n        billName\n        createdAt\n      }\n    }\n  }\n"])))),ee=function(){var e=Object(o.f)().username,t=Object(W.a)(e?Z:X,{variables:{username:e}}),n=t.loading,c=t.data,a=(null===c||void 0===c?void 0:c.me)||(null===c||void 0===c?void 0:c.user)||{};return N.loggedIn()&&N.getProfile().data.username===e?Object(h.jsx)(o.a,{to:"/me"}):n?Object(h.jsx)("div",{children:"Loading..."}):null!==a&&void 0!==a&&a.username?Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"flex-row justify-center mb-3",children:[Object(h.jsxs)("h2",{className:"col-12 col-md-10 bg-dark text-light p-3 mb-5",children:["Viewing ",e?"".concat(a.username,"'s"):"your"," profile."]}),Object(h.jsx)("div",{className:"col-12 col-md-10 mb-5"}),!e&&Object(h.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"}})]})}):Object(h.jsx)("h4",{children:"You Budget"})},te=Object(j.a)({uri:"/graphql"}),ne=Object(m.a)((function(e,t){var n=t.headers,c=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:c?"Bearer ".concat(c):""})}})),ce=new b.a({link:ne.concat(te),cache:new d.a});var ae=function(){return Object(h.jsx)(u.a,{client:ce,children:Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(h.jsx)(Q,{}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(o.b,{exact:!0,path:"/",children:Object(h.jsx)(A,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/login",children:Object(h.jsx)(G,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/signup",children:Object(h.jsx)(J,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/home",children:Object(h.jsx)(A,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/me",children:Object(h.jsx)(ee,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/profiles/:username",children:Object(h.jsx)(ee,{})})]})]})})})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(ae,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.a324d326.chunk.js.map